vim小结


工作中经常用到vim编辑器，在此对vim做一个简单总结，抛开繁杂，挑出常用的命令，好记又能提膏工作效率。
提到vim，不得不说vi。vi是一种轻巧的非图形化文本编辑器，UNIX程序兼容标准要求系统必须配备vi，而多数Linux配备的是加强版的vim。相比vi，viw有着高亮显示语法等功能，更好的使用体验。命令行键入“vi”便可知道其版本。


打开文件：
vim xx：打开xx文件，光标定位到第一行
vim + xx：打开xx文件，光标定位到最后一行
vim +3 xx：打开文件，光标定位到第3行


三种模式
vim有三种常见的模式：命令模式、底行模式与插入模式

命令模式
刚打开vim，进入是命令模式，vim等待用户输入命令，此时不可输入文件内容

输入模式
可以修改文件内容

底行模式
在命令模式下键入“:”，便进入底行模式

三种模式切换：
命令模式->输入模式：i，o等插入命令
输入模式->命令模式：按「Esc」键
命令模式->底行模式：按「:」键

不确定所处的模式，按「Esc」键两次便可回到初始状态

命令模式常用命令

编辑：
i：从命令模式切换到输入模式
o：在光标所在行下方插入一行，并切换到输入模式
O：在光标所在行上方插入一行，并切换到输入模式

撤销：
u：撤销上一步操作

删除：
dd：删除光标所在行（实际是剪切当前行）
x：删除光标处字符

复制
yy：复制光标所在行

剪切（需要先选定区域）
v：按字符选定选择区域
d：剪贴选择的内容
y：复制选择的内容

粘贴
p：在光标所在行下方粘贴
P：在光标所在行上方粘贴

搜索：
/xxx：从光标处向后搜索xxx，按「n」切到下一个匹配结果
?xxx：从光标处向前搜索xxx，按「n」切到上一个匹配结果

移动：
w：光标向后移动一个词（注意不是一个字符）
b：光标向前移动一个词（注意不是一个字符）
^：光标移动到当前行行首
$：光标移动到当前行行尾
G：光标移动到文件尾
数字G：光标移动到第「数字」行，如“6G”表示光标移动到第6行
gg：光标移动到文件首

底行模式
q：退出
!：强制执行
w：保存
数字：定位到第几行

由此产生的组合：
wq：保存并退出，q!：放弃修改并退出

替换
%s/A/B/gc

说明
%表示命令操作范围是整篇文章，比如“1,5s/A/B/gc”则指定命令操作范围是1～5行
/A/B/：将A替换为B
c：每次替换前会向用户确认，虽然是可选的，但建议写上，下面是常见反馈，y：执行替换，n：跳过此处，a：执行此处和之后所有的替换，q或「Esc」键：退出替换

set nu：设置行号
syntax on：语法高亮显示
set mouse=a：鼠标可用
设置之后，退出即失效；若想成为标配，需在用户目录下编辑“.vimrc”文件（即“vim ~/.vimrc”）即可。

